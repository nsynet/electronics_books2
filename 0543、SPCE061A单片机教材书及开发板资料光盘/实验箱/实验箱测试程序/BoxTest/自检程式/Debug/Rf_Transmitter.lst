Sunplus u'nSP Assembler - Ver. 1.4.1 (Build:0)

                            	
                            	.define		P_IOA_DATA  	0x7000;
                            	.define		P_IOA_DIR   	0x7002;
                            	.define		P_IOA_ATTRI 	0x7003;
                            	.define		P_IOB_DATA  	0x7005;
                            	.define		P_IOB_DIR   	0x7007;
                            	.define		P_IOB_ATTRI		0x7008;
                            	
                            	
                            	.define		P_TimerB_Data	0x700C;
                            	.define		P_TimerB_Ctrl	0x700D;
                            	.define		timea_clk		0x020d; 
                            	.define		timeb_clk		0x0004;
                            	.define     TIMER_DATA_FOR_8KHZ (0xffff -2457)	 // 时钟频率为Fosc/2,采样率为5kHz
                            	
                            	.define		P_TimerA_Ctrl	0x700b 
                            	.define		P_TimerA_Data	0x700a 
                            	.define		P_ADC			0x7014 
                            	.define		P_ADC_Ctrl		0x7015 
                            	.define		P_DAC1			0x7017
                            	.define		P_DAC2			0x7016
                            	.define		P_DAC_Ctrl		0x702A 
                            	.define		P_INT_Ctrl		0x7010 
                            	.define		P_INT_Clear		0x7011 
                            	.external   _RF_RT
                            	
00000000                    	.iram
                            	.public  _One_Flag_T ,_Originally_Data_T,_Zero_Flag_T_T,_Step_T,_First_T
00000000 55 1F              	.var     _Originally_Data_T =0001111101010101b 
00000001 00 00              	.var     _One_Flag_T = 0 
00000002 10 00              	.var     _Zero_Flag_T_T = 16
00000003 00 00 00 00        	.var     _Step_T = 0,_First_T=0  
                            	
00000000                    	.code
                            	.public _Rf_Transmitter
                            	_Rf_Transmitter:
00000000 40 F1              		int off; 
                            	//	r1=0xffff; 				//A口设置为同相高电平输出
                            	//	[P_IOA_ATTRI]=r1; 
                            	//	[P_IOA_DIR]=r1; 
                            	//	//r1=0x0000 ;
                            	//	[P_IOA_DATA]=r1; 
                            		
                            	//	r1=0xffff; 				//B口设置为同相高电平输出  
                            	//   [P_IOB_DIR]=r1; 
                            	//	[P_IOB_ATTRI]=r1; 
                            		//r1=0x0000;
                            	//	[P_IOB_DATA]=r1;
00000001 09 93 FF FF        	    r1=0xffff
00000003 19 D3 00 00        	    [_RF_RT]=r1
00000005 09 93 70 00        	    r1=0000000001110000b
00000007 19 D3 07 70        	    [P_IOB_DIR]=r1; 
00000009 09 93 50 00        	    r1=0000000001010000b
0000000B 19 D3 08 70        	    [P_IOB_ATTRI]=r1;
0000000D 09 93 40 00        	    r1=0000000001000000b
0000000F 19 D3 05 70        	    [P_IOB_DATA]=r1;
                            		
                            	
00000011 70 92              			R1 = 0x0030; 				// 时钟频率为CLKA的Fosc/2
00000012 19 D3 0B 70        			[P_TimerA_Ctrl] = R1;		//
00000014 09 93 66 F6        			R1 = TIMER_DATA_FOR_8KHZ; 	// 采样率为 8kHz
00000016 19 D3 0A 70        			[P_TimerA_Data] = R1;		//
00000018 09 93 00 10        			R1 = 0x1000;				//
0000001A 19 D3 10 70        			[P_INT_Ctrl] = R1;			// 开中断IRQ1_TM
                            			
                            		
0000001C 41 F1              			INT IRQ;
0000001D 90 9A              			retf
                            		
                            	
                            			
                            	
                            	        
                            		    
                            	        
0 error(s), 0 warning(s).
